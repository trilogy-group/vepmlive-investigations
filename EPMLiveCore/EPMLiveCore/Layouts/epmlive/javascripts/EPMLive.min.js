function CreateEPMLiveWorkspace(n,t){var i=n?SP.Utilities.Utility.getLayoutsPageUrl("EPMLive/QueueCreateWorkspace.aspx?listid="+n+"&itemid="+t):SP.Utilities.Utility.getLayoutsPageUrl("EPMLive/QueueCreateWorkspace.aspx");var r=new SP.Utilities.UrlBuilder(i),u=r.get_url(),f={url:u,title:"Create Workspace",dialogReturnValueCallback:function(n,t){n===1?(toastr.options={closeButton:!1,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.info("Your workspace is being created - we will notify you when it is ready.")):n===-1&&(toastr.options={closeButton:!1,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.error("Something went wrong. Workspace is not being created. Error: "+t))}};SP.UI.ModalDialog.showModalDialog(f)}function OpenIntegrationPage(n,t,i){var e=n.indexOf("."),o=n.substr(0,e),r=n.substr(e+1),s=SP.Utilities.Utility.getLayoutsPageUrl("EPMLive/integration/gotoremote.aspx?control="+o+"&listid="+t+"&itemid="+i),h=new SP.Utilities.UrlBuilder(s),u=h.get_url(),f;if(r==1)window.open(u,"",config="width="+screen.width+",height="+screen.height+",top=0,left=0,toolbar=no, menubar=no, scrollbars=yes, resizable=yes, location=no, directories=no, status=yes");else if(r==2)f={url:u,showMaximized:!0,title:"",dialogReturnValueCallback:function(){}},SP.UI.ModalDialog.showModalDialog(f);else if(r==3)f={url:u,title:"",width:600,dialogReturnValueCallback:function(){}},SP.UI.ModalDialog.showModalDialog(f);else if(r==4){var s=SP.Utilities.Utility.getLayoutsPageUrl("EPMLive/integration/gotoremoteframe.aspx?control="+o+"&listid="+t+"&itemid="+i),h=new SP.Utilities.UrlBuilder(s),u=h.get_url();location.href=u}}(function(n,t,i){var r=0;n.ui={statusbar:{collection:i.observableArray(),add:function(t,r,u,f){var e={collection:i.observableArray(),color:i.observable()};return e.cssClass=i.dependentObservable(function(){return"ms-status-"+this.color()},e),e.append=function(n,t,r,u){var f={title:i.observable(n),message:i.observable(t),icon:i.observable(r),align:i.observable(u||"left")};this.collection.push(f)},e.append(t,r,u,f),e.remove=function(){n.ui.statusbar.collection.remove(this)},this.collection.push(e),e}}};n.utils={isInt:function(n){return/^\d+$/.test(n)},base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var l=n.utils.base64,e="",o,i,r,h,c,s,u,f=0;for(t=l._utf8_encode(t);f<t.length;)o=t.charCodeAt(f++),i=t.charCodeAt(f++),r=t.charCodeAt(f++),h=o>>2,c=(o&3)<<4|i>>4,s=(i&15)<<2|r>>6,u=r&63,isNaN(i)?s=u=64:isNaN(r)&&(u=64),e=e+this._keyStr.charAt(h)+this._keyStr.charAt(c)+this._keyStr.charAt(s)+this._keyStr.charAt(u);return e},decode:function(t){var l=n.utils.base64,i="",o,s,h,c,f,u,e,r=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");r<t.length;)c=this._keyStr.indexOf(t.charAt(r++)),f=this._keyStr.indexOf(t.charAt(r++)),u=this._keyStr.indexOf(t.charAt(r++)),e=this._keyStr.indexOf(t.charAt(r++)),o=c<<2|f>>4,s=(f&15)<<4|u>>2,h=(u&3)<<6|e,i=i+String.fromCharCode(o),u!=64&&(i=i+String.fromCharCode(s)),e!=64&&(i=i+String.fromCharCode(h));return l._utf8_decode(i)},_utf8_encode:function(n){var i,r,t;for(n=n.replace(/\r\n/g,"\n"),i="",r=0;r<n.length;r++)t=n.charCodeAt(r),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i},_utf8_decode:function(n){for(var r="",t=0,i=c1=c2=0;t<n.length;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(c2=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|c2&63),t+=2):(c2=n.charCodeAt(t+1),c3=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(c2&63)<<6|c3&63),t+=3);return r}},fireEvent:function(n,t){if(document.createEventObject)return n.fireEvent("on"+t,document.createEventObject());var i=document.createEvent("HTMLEvents");return i.initEvent(t,!0,!0),!n.dispatchEvent(i)}};n.getFormattedTime=function(n){var t=n.getHours(),i=n.getMinutes(),r=null;return i<10&&(i="0"+i),r=t<12?"AM":"PM",t=t!=0?(t+11)%12+1:12,t+":"+i+" "+r};n.getFriendlyDateTime=function(i,r){function o(){return u.getDate()===i.getDate()&&u.getMonth()===i.getMonth()&&u.getFullYear()===i.getFullYear()}function e(n,t){var i=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return parseInt((i.getTime()-r.getTime())/864e5)}function s(){return u.getTime()-i.getTime()>0?e(u,i)===1:!1}function h(){if(u.getTime()-i.getTime()>0){var n=e(u,i);return n>=0&&n<=7}return!1}function c(n){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()]}function l(n,t){var i=n.getTime()+n.getTimezoneOffset()*6e4;return new Date(i+36e5*t)}function a(){var n=new Date;return-n.getTimezoneOffset()/60}var u=new Date,f;return u.setHours(0,0,0,0),f=new Date,f.setHours(0,0,0,0),f.setDate(u.getDate()-7),o()?t.timeago(l(i,a()))+" at "+n.getFormattedTime(i):s()?"Yesterday at "+n.getFormattedTime(i):h()?"Last "+c(i)+" ("+r+") at "+n.getFormattedTime(i):t.datepicker.formatDate("M d, yy",i)+" at "+n.getFormattedTime(i)};n.isGuid=function(n){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(n)};n.getScrollbarWidth=function(){var n,i,u;return r||(t.browser.msie?(n=t('<textarea cols="10" rows="2"><\/textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),i=t('<textarea cols="10" rows="2" style="overflow: hidden;"><\/textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),r=n.width()-i.width(),n.add(i).remove()):(u=t("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),r=100-u.width(),u.parent().remove())),r};n.getUrlParamByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),t=r.exec(window.location.href);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))};n.log=function(t){n.getUrlParamByName("epmdebug")=="true"&&console.log("[EPMLive] "+t)};n.parseJson=function(xml){return eval("("+window.xml2json(t.parseXML(xml),"")+")")};n.responseIsSuccess=function(n){return n["@Status"]==0};n.logFailure=function(t){n.log("ERROR: "+t.Error["@ID"]+". "+t.Error["#text"])};n.md5=function(n){return window.MD5(n).toUpperCase()};String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})};i.bindingHandlers.slideUpDown={update:function(n,r,u){var e=r(),o=u(),s=i.utils.unwrapObservable(e),f=o.slideDuration||600;s?t(n).slideDown(f):t(n).slideUp(f)}};i.bindingHandlers.src={update:function(n,r,u){var e=t(n);t(e).hide();var h=r(),o=u(),c=i.utils.unwrapObservable(h),s=o.alignmiddle||!1,f=o.maxDimension||45;s&&e.load(function(){var r=this.height,u=this.width,i,n;t(this).parent().height(f);t(this).parent().width(f);i=f;n=r*i/u;f<n&&(n=f,i=n*u/r);t(this).width(i);t(this).height(n);t(this).css("top",(f-n)/2);t(this).css("left",(f-i)/2);t(this).show()});e.attr("src",c);s||t(e).show()}};i.applyBindings(n.ui.statusbar,document.getElementById("EPMLiveStatusbar"))})(window.epmLive=window.epmLive||{},jQuery,ko),function(n,t){n.generateToolBar=function(n,i){function nt(n,i){var r=t(document.createElement("ul")),f,e,u,o;r.addClass("nav navbar-nav");f=i.content;for(e in f){u=f[e];o=u.controlType;switch(o){case"button":v(u,r);break;case"dropdown":y(u,r)}}n.append(r)}function tt(n,i){var r=t(document.createElement("ul")),f,e,u,o;r.addClass("nav navbar-nav navbar-right");f=i.content;for(e in f){u=f[e];o=u.controlType;switch(o){case"button":v(u,r);break;case"dropdown":y(u,r);break;case"multiselect":ft(u,r);break;case"groupByFields":rt(u,r);break;case"search":it(u,r)}}n.append(r)}function v(n,i){var c=n.iconClass,u=n.title,e=n.value,o=n.toolTip,a=n.events,s=t(document.createElement("li")),r,l,f;o?s.attr("title",o):u&&s.attr("title",u);r=t(document.createElement("a"));r.attr("class","dropdown-toggle");(u==undefined||u.toLowerCase()=="none")&&e==undefined?r.addClass("nav-icon"):r.addClass("nav-icon-title");r.attr("href","javascript:void(0)");o&&(r.attr("data-toggle","tooltip"),r.attr("data-placement","top"),r.attr("data-delay","200"),r.attr("data-container","body"),r.attr("title",o));c&&c!="none"&&(l=t(document.createElement("span")),l.attr("class",c),r.append(l));u&&u.toLowerCase()!="none"&&(f=t(document.createElement("span")),f.addClass("dropdown-label"),f.text(u),r.append(f));e&&e!="none"&&(f=t(document.createElement("span")),f.text(e),r.append(f));s.append(r);a&&h(r,n.events);i.append(s)}function y(n,i){var it=n.controlId,f=n.title,c=n.iconClass,y=n.toolTip,l=n.value,a=t(document.createElement("li")),r,p,d,g,o,rt,v,w,b,k,nt,ut,s,tt;y?a.attr("title",y):f&&a.attr("title",f);r=t(document.createElement("a"));r.attr("class","dropdown-toggle");r.attr("href","javascript:void(0)");r.attr("controlId",it);y&&(r.attr("data-toggle","tooltip"),r.attr("data-placement","top"),r.attr("data-container","body"),r.attr("data-delay","200"),r.attr("title",y));c&&c!="none"&&(s=t(document.createElement("span")),s.attr("class",c),r.append(s),r.addClass("nav-icon-title"));f&&f.toLowerCase()!="none"&&(p=t(document.createElement("span")),p.text(f),p.addClass("dropdown-label"),r.append(p));l&&l!="none"&&(d=t(document.createElement("span")),d.text(l),r.append(d));(c&&c!="none"||f&&f.toLowerCase()!="none"||l&&l!="none")&&(g=t(document.createElement("b")),g.attr("class","caret"),r.append(g));r.bind("click",function(){t(".dropdown-menu").css("display","none");t("#"+e(t(this).attr("controlId"))).toggle()});a.append(r);o=t(document.createElement("ul"));o.attr("id",e(it));o.addClass("dropdown-menu");for(rt in n.sections){v=n.sections[rt];w=v.heading;w&&w.toLowerCase()!="none"&&(b=t(document.createElement("li")),b.attr("class","dropdown-header"),b.text(w),o.append(b));k=v.divider;k&&k.toLowerCase()!="no"&&k.toLowerCase()!="none"&&(nt=t(document.createElement("li")),nt.attr("class","divider"),o.append(nt));for(ut in v.options){var u=v.options[ut],ft=t(document.createElement("li")),r=t(document.createElement("a"));r.attr("href","javascript:void(0)");var ot=u.iconClass,st=u.text,ht=u.events,ct=u.properties;ot&&(s=t(document.createElement("span")),s.attr("class",u.iconClass),r.append(s));st&&(tt=t(document.createElement("span")),tt.text(u.text),r.append(tt));ht&&h(r,u.events);ct&&et(r,u.properties);ft.append(r);o.append(ft)}}a.append(o);i.append(a)}function it(n,i){var o=n.toolTip,f=t(document.createElement("li")),s,c,u,r,e;f.attr("title","Search");s=n.custom.toLowerCase()=="yes";s?(c=n.controlId,f.append(t("#"+c))):(u=t(document.createElement("input")),u.attr("class","toolbar-search"),u.attr("type","text"),u.attr("placeholder","Search"),u.attr("style","margin-left: 0px;"),u.attr("id","toolBarResGridSelector"),h(u,n.events),u.autocomplete({source:function(n,i){var r=t.ui.autocomplete.filter(window.epmLiveResourceGrid.actions.myResourcesOn?window.epmLiveResourceGrid.myResources:window.epmLiveResourceGrid.resources,n.term);i(r)},select:function(n,t){var i=window.Grids[window.epmLive.resourceGridId],u=window.epmLiveResourceGrid.resourceDictionary[t.item.value],r;u&&(r=i.Rows[u],i.ExpandParents(r),i.ActionClearSelection(),i.SelectRow(r,!0),i.SetScrollTop(i.GetRowTop(r)));window.epmLiveResourceGrid.actions.toggleEasyScroll();window.setTimeout(function(){window.RefreshCommandUI()},100)}}),f.append(u),r=t(document.createElement("a")),r.attr("id","toolbar-search-icon"),r.attr("class","nav-icon"),r.attr("style","font-size:.9em;"),r.attr("href","javascript:void(0)"),o&&(r.attr("data-toggle","tooltip"),r.attr("data-placement","top"),r.attr("data-container","body"),r.attr("data-delay","200"),r.attr("title",o)),r.click(function(){t(".toolbar-search").css("margin-left")=="0px"?(t(".toolbar-search").css("margin-left","-160px"),t(".toolbar-search").focus(),t(".toolbar-search").val("")):(t(".toolbar-search").css("margin-left","0px"),t(".toolbar-search").val(""))}),e=t(document.createElement("span")),e.attr("class","icon-search-3"),r.append(e),f.append(r));i.append(f)}function rt(n,i){var yt=n.toolTip,a=t(document.createElement("li")),r,ot,e,b,d,st,v,f,ht,u,y,ct,pt,o,g,nt,w,tt,wt,bt,it,rt,lt,h,at,vt,ft,c,et,l;if(a.attr("class","dropdown"),a.attr("title","Group by"),r=t(document.createElement("a")),r.attr("id","group-dropdown"),r.attr("class","dropdown-toggle nav-icon"),r.attr("href","javascript:void(0)"),yt&&(r.attr("data-toggle","tooltip"),r.attr("data-placement","top"),r.attr("data-container","body"),r.attr("data-delay","200"),r.attr("title",yt)),ot=t(document.createElement("span")),ot.attr("class","icon-list-3"),r.append(ot),r.bind("click",function(){t(".dropdown-menu").css("display","none");e.toggle();var n=[];n=s();n.length>0&&p(n)}),a.append(r),e=t(document.createElement("div")),e.attr("class","dropdown-menu no-close grouping-dropdown-menu"),b=t(document.createElement("ul")),d=t(document.createElement("li")),d.attr("class","dropdown-header"),d.text("Group By"),st=t(document.createElement("li")),st.attr("class","divider"),b.append(d),b.append(st),e.append(b),v=t(document.createElement("div")),v.attr("class","grouping-wrapper"),f=t(document.createElement("div")),f.attr("class","no-text"),f.text("No grouping specified"),v.append(f),ht=n.availableGroups,u=[],ht&&(u=ht.split(",")),u.length==0){alert("no choice fields");return}y=n.groups;y!=null&&y.length>0&&f.text("");for(ct in y){pt=y[ct];o=t(document.createElement("div"));o.attr("class","grouping-row");g=t(document.createElement("div"));g.attr("class","grouping-number");g.text(parseInt(ct)+1);nt=t(document.createElement("div"));nt.attr("class","grouping-select");w=t(document.createElement("select"));w.addClass("form-control");for(tt in u)u.hasOwnProperty(tt)&&(wt=u[tt].split("|")[0],bt=u[tt].split("|")[1],w.append('<option value="'+bt+'">'+wt+"<\/option>"));w.val(pt.internalName);nt.append(w);it=t(document.createElement("div"));it.attr("class","grouping-delete");rt=t(document.createElement("a"));lt=t(document.createElement("span"));lt.attr("class","fui-cross icon-dropdown");rt.append(lt);rt.bind("click",function(){var r=t(this).closest(".grouping-row").find(".grouping-select").find("select option:selected").val(),i,n;t(this).closest(".grouping-row").remove();i=1;t(".grouping-wrapper").children(".grouping-row").each(function(){t(this).find(".grouping-number").first().text(i++)});n=t(".grouping-wrapper").children(".grouping-row").length;n==0?(f.text("No Grouping Added"),t("#aGroupBySave").attr("class","disabledLink")):n>0&&n<5?(t("#aGroupBySave").removeAttr("class"),t("#aAddGrouping").removeAttr("class")):n>0&&n==4&&(t("#aGroupBySave").removeAttr("class"),t("#aAddGrouping").attr("class","disabledLink"));t(".grouping-wrapper").children(".grouping-row").each(function(){t(".grouping-select select").not(this).children("option[value="+r+"]").show()})});it.append(rt);o.append(g);o.append(nt);o.append(it);v.append(o)}e.append(v);h=t(document.createElement("div"));h.attr("class","grouping-footer");at=t(document.createElement("ul"));vt=t(document.createElement("li"));vt.addClass("divider");at.append(vt);h.append(at);ft=t(document.createElement("div"));ft.addClass("grouping-add");c=t(document.createElement("a"));c.attr("id","aAddGrouping");c.attr("href","javascript:void(0)");c.text("Add Grouping");c.bind("click",function(){var e,y,r,o,h,i,c,w,b,l,a,v,n;if(f.text(""),e=t(".grouping-wrapper").children(".grouping-row").length,e<4){e==3&&t(this).attr("class","disabledLink");y=t(".grouping-wrapper");r=t(document.createElement("div"));r.attr("class","grouping-row");o=t(document.createElement("div"));o.attr("class","grouping-number");o.text(e+1);h=t(document.createElement("div"));h.attr("class","grouping-select");i=t(document.createElement("select"));i.addClass("form-control");for(c in u)u.hasOwnProperty(c)&&(w=u[c].split("|")[0],b=u[c].split("|")[1],i.append('<option value="'+b+'">'+w+"<\/option>"));if(n=[],n=s(),n.length>0){for(k=0;k<n.length;k++)i.children("option[value="+n[k].value+"]").hide();jQuery(i).find("option").each(function(){if(t(this).css("display")!="none")return t(this).prop("selected",!0),!1})}else i.prop("selectedIndex",0);h.append(i);l=t(document.createElement("div"));l.attr("class","grouping-delete");a=t(document.createElement("a"));v=t(document.createElement("span"));v.attr("class","fui-cross icon-dropdown");a.append(v);a.bind("click",function(){var o=t(this).closest(".grouping-row").find(".grouping-select").find("select option:selected").val(),r,n,i,u,e;t(this).closest(".grouping-row").remove();r=1;t(".grouping-wrapper").children(".grouping-row").each(function(){t(this).find(".grouping-number").first().text(r++)});n=t(".grouping-wrapper").children(".grouping-row").length;n==0?(f.text("No Grouping Added"),t("#aGroupBySave").attr("class","disabledLink")):n>0&&n<5?(t("#aGroupBySave").removeAttr("class"),t("#aAddGrouping").removeAttr("class")):n>0&&n==4&&(t("#aGroupBySave").removeAttr("class"),t("#aAddGrouping").attr("class","disabledLink"));t(".grouping-wrapper").children(".grouping-row").each(function(){t(".grouping-select select").not(this).children("option[value="+o+"]").show()});i=[];t(".grouping-wrapper").children(".grouping-row").each(function(){var n=t(this).find(".grouping-select").find("select option:selected").val();i.push(n)});u=i.join(",");e=window.Grids[window.epmLive.resourceGridId];e.DoGrouping(u)});l.append(a);r.append(o);r.append(h);r.append(l);y.append(r);t("#aGroupBySave").removeAttr("class")}n=[];n=s();n.length>0&&p(n)});ft.append(c);h.append(ft);et=t(document.createElement("div"));et.addClass("grouping-save");l=t(document.createElement("a"));l.attr("id","aGroupBySave");l.attr("href","javascript:void(0)");l.text("Apply");l.bind("click",function(){var r=t(".grouping-wrapper").children(".grouping-row").length,i;r>0&&(i=[],t(".grouping-wrapper").children(".grouping-row").each(function(){var n=t(this).find(".grouping-select").find("select option:selected").text(),r=t(this).find(".grouping-select").find("select option:selected").val(),u={key:n,value:r};i.push(u)}),n.saveFunction(i));t(".grouping-dropdown-menu").toggle()});et.append(l);h.append(et);e.append(h);ut();a.append(e);i.append(a)}function ut(){t(".grouping-select select").live("change",function(){t("option:hidden",t(".grouping-select select")).each(function(){var i=this,n=!0;t(".grouping-select select").not(t(this).parent()).each(function(){i.value==this.value&&(n=!1)});n&&t(this).show()});t(".grouping-select select").not(this).children("option[value="+this.value+"]").hide()})}function s(){var n=[];return t(".grouping-wrapper").children(".grouping-row").each(function(){var i=t(this).find(".grouping-select").find("select option:selected").text(),r=t(this).find(".grouping-select").find("select option:selected").val(),u={key:i,value:r};n.push(u)}),n}function p(n){for(j=0;j<n.length;j++)t("option:hidden",t(".grouping-select select")).each(function(){var i=this,n=!0;t(".grouping-select select").not(t(this).parent()).each(function(){i.value==this.value&&(n=!1)});n&&t(this).show()}),t(".grouping-select select").not(this).children("option[value="+n[j].value+"]").hide()}function ft(n,i){var ft=n.controlId,et=n.iconClass,a=n.title,d=n.value,g=n.toolTip,s=t(document.createElement("li")),r,st,f,u,ht,v,y,h,p,nt,at,w,tt,it,rt,ct,b,o,l,ut,k;s.attr("class","dropdown");g?s.attr("title",g):a&&s.attr("title",a);r=t(document.createElement("a"));r.attr("class","dropdown-toggle nav-icon");r.attr("href","javascript:void(0)");r.attr("controlId",ft);g&&(r.attr("data-toggle","tooltip"),r.attr("data-placement","top"),r.attr("data-container","body"),r.attr("data-delay","200"),r.attr("title",g));et&&et!="none"&&(st=t(document.createElement("span")),st.attr("class",et),r.append(st));a&&a.toLowerCase()!="none"&&(f=t(document.createElement("span")),f.addClass("dropdown-label"),f.text(a),r.append(f));d&&d!="none"&&(f=t(document.createElement("span")),f.text(d),r.append(f));r.bind("click",function(){t(".dropdown-menu").css("display","none");t("#"+e(t(this).attr("controlId"))).toggle()});s.append(r);u=t(document.createElement("ul"));u.attr("id",e(ft));u.attr("class","multiselect-container dropdown-menu");u.attr("style","max-height: 400px;overflow-y: auto;overflow-x: hidden;");ht=t(document.createElement("li"));v=t(document.createElement("a"));v.attr("href","javascript:void(0)");v.addClass("multiselect-all");y=t(document.createElement("label"));y.attr("class","checkbox");h=t(document.createElement("input"));h.attr("id","cbSelectAll");h.attr("type","checkbox");h.attr("value","multiselect-all");h.bind("change",function(){var i,r,u;if(t(this).is(":checked")?t(this).closest("li").siblings().each(function(){t(this).find("input:checkbox").prop("checked",!0)}):t(this).closest("li").siblings().each(function(){t(this).find("input:checkbox").prop("checked",!1)}),n.onchangeFunction){i={};r=[];t(this).is(":checked")&&r.push(t(this).val());t(this).closest("li").siblings().find(":checked").each(function(){t(this).parent().text().toLowerCase()!="select all"&&r.push(t(this).val())});i.selectedKeys=r;u=t(this).closest("ul").siblings("a").attr("controlId");i.sections=c(u);n.onchangeFunction(i)}});y.append(h);y.append("Select all");v.append(y);ht.append(v);u.append(ht);p=t(document.createElement("div"));nt=n.sections;ot(ft,nt);for(at in nt){w=nt[at];tt=w.heading;tt&&tt.toLowerCase()!="none"&&(it=t(document.createElement("li")),it.attr("class","dropdown-header"),it.text(tt),p.append(it));rt=w.divider;rt&&rt.toLowerCase()!="no"&&rt.toLowerCase()!="none"&&(l=t(document.createElement("li")),l.attr("class","divider"),p.append(l));for(ct in w.options){var vt=w.options[ct],pt=vt.value,d=ct,wt=vt.checked,yt=t(document.createElement("li")),lt=t(document.createElement("a"));lt.attr("href","javascript:void(0)");b=t(document.createElement("label"));b.attr("class","checkbox");o=t(document.createElement("input"));o.attr("type","checkbox");o.attr("class","cbColumn");o.attr("value",d);o.prop("checked",wt);o.bind("change",function(){var i,r,u;if(t(this).prop("checked")==!1?t("#cbSelectAll").prop("checked",!1):t(".cbColumn:not(:checked)").length==0&&t("#cbSelectAll").prop("checked",!0),n.onchangeFunction){i={};r=[];t(this).is(":checked")&&r.push(t(this).val());t(this).closest("li").siblings("li").find(":checked").each(function(){r.push(t(this).val())});i.selectedKeys=r;u=t(this).closest("ul").siblings("a").attr("controlId");i.sections=c(u);n.onchangeFunction(i)}});b.append(o);b.append(pt);lt.append(b);yt.append(lt);p.append(yt)}}u.append(p);l=t(document.createElement("li"));l.addClass("divider");u.append(l);ut=t(document.createElement("div"));ut.addClass("grouping-apply");k=t(document.createElement("a"));k.attr("href","javascript:void(0)");k.text(n.applyButtonConfig.text);n.applyButtonConfig["function"]&&k.bind("click",function(){var i={},u=[],r;t(this).parent().siblings("div").first().children("li").find(":checked").each(function(){u.push(t(this).val())});i.selectedKeys=u;r=t(this).closest("ul").siblings("a").attr("controlId");i.sections=c(r);n.applyButtonConfig["function"](i);t("#"+r+"_ul_menu").toggle()});ut.append(k);u.append(ut);s.append(u);i.append(s)}function h(n,t){var r,i;for(r in t)i=t[r],n.bind(i.eventName,i["function"])}function et(n,t){var i,r;for(i in t)r=t[i],n.attr(i,r)}function w(n,i){for(var r=window.event?b(window.event):i.target;r!=null;){if(t(r).attr("class")!=null&&t(r).attr("class").indexOf(n)!=-1)return!1;r=r.parentNode}return!0}function b(n){var t=n.target?n.target:n.srcElement;return t!=null&&t.nodeType==3&&(t=t.parentNode),t}function e(n){var t="",i=o[n];return i?t=i:(o[n]=n+"_ul_menu",t=o[n]),t}function ot(n,t){l[n]=t}function c(n){return l[n]}var a,f;t("#contentRow").length>0&&t("#contentRow").css("padding-top","0");t(document).click(function(n){w("dropdown-menu",n)&&w("dropdown",n)&&t(".dropdown-menu").css("display","none")});var o={},l={},d=n,u=t(document.createElement("div")),g=i[0].id;u.attr("id",g);u.addClass("epmliveToolBar");u.attr("border-bottom","1px solid #eeeeee");for(a in i)f=i[a],f.placement=="left"?nt(u,f):f.placement=="right"&&tt(u,f);t("#"+d).append(u);t(".epmliveToolBar a[data-toggle=tooltip]").tooltip()};window.SP.SOD.notifyScriptLoadedAndExecuteWaitingJobs("EPMLiveToolbar.js")}(window.epmLiveGenericToolBar=window.epmLiveGenericToolBar||{},window.jQuery);
/*
//# sourceMappingURL=EPMLive.min.js.map
*/