var EPM;(function(n){(function(n){var t=function(){function n(){if(n._instance)throw new Error("Error: Instantiation failed: Use EPM.UI.Loader.current() instead of new.");else this._elements=[],n._instance=this}return n.current=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.startLoading=function(n){var s=this,r,i,u,f,e,o,t;this.elementIsRegistered(n)||(this._elements.push(n),r=$(document.getElementById("s4-workspace")),i=$("#"+n.id),i.css("visibility","hidden"),u=i.offset(),f=50,$("#epm-nav-sub").is(":visible")&&(f=230),n.page?(e=r.height(),o=r.width(),n.coverRibbon&&(u={top:50,left:f})):(e=n.height||i.height(),o=n.width||i.width()),t=$('<table id="'+n.id+'_epm_loader" class="epm-loader"><tr><td><\/td><\/tr><\/table>'),n.bgColor&&t.css("background",n.bgColor),n.coverRibbon?(t.css("height",$(window).height()-50),t.css("width",$(window).width()-f)):(t.height(e),t.width(o)),t.hide(),t.offset({top:u.top,left:u.left}),$("body").append(t.show()),n.loader=t,n.el=i,$.browser.msie?n.coverRibbon?($(document.getElementById("s4-ribbonrow")).css("visibility","hidden"),r.css("visibility","hidden")):i.css("visibility","hidden"):i.css("visibility","visible"),setTimeout(function(){s.showLoading(n)},1500))},n.prototype.stopLoading=function(n){var t={id:n},u,i,r,f,e;if(this.elementIsRegistered(t)){for(u=-1,i=0;i<this._elements.length;i++)if(r=this._elements[i],t.id===r.id){u=i;t.loader=r.loader;t.el=r.el;t.coverRibbon=r.coverRibbon;break}u!==-1&&(t.coverRibbon?(f=$(document.getElementById("s4-ribbonrow")),e=$(document.getElementById("s4-workspace")),f.hide(),e.hide(),t.loader.fadeOut(300).remove(),$.browser.msie&&(f.css("visibility","visible").hide(),e.css("visibility","visible").hide(),t.el.css("visibility","visible").hide()),f.fadeIn(500),e.fadeIn(500),t.el.fadeIn(500)):(t.el.hide(),t.loader.fadeOut(300).remove(),$.browser.msie&&t.el.css("visibility","visible").hide(),t.el.fadeIn(500)),this._elements.splice(u,1))}},n.prototype.elementIsRegistered=function(n){var i=!1,t;for(this._elements=this._elements||[],t=0;t<this._elements.length;t++)if(n.id===this._elements[t].id){i=!0;break}return i},n.prototype.showLoading=function(n){if(this.elementIsRegistered(n)){var t=n.loader.height()/-4;n.loader.find("td").append($('<div style="position:relative;top:'+t+'px">Loading<span class="ellipsis-wrapper"><span class="ellipsis">...<\/span><\/span><\/div>'))}},n}();n.Loader=t,function(){var n=$.browser;n.msie&&parseInt(n.version)<9&&($.fn.fadeIn=function(n,t){return t||typeof n=="function"&&(t=n),t&&setTimeout(function(){t()},5),$.fn.show.apply(this)},$.fn.fadeOut=function(n,t){return t||typeof n=="function"&&(t=n),t&&setTimeout(function(){t()},5),$.fn.hide.apply(this)})}();SP.SOD.notifyScriptLoadedAndExecuteWaitingJobs("EPM.UI")})(n.UI||(n.UI={}));var t=n.UI})(EPM||(EPM={}));
/*
//# sourceMappingURL=EPM.min.js.map
*/